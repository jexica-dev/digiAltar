{"ast":null,"code":"var _jsxFileName = \"/Users/jexica/Sync/general_assembly/Chickadee/unit_4/week_12/DigiAltar/client/src/components/Drag/DragContainer.jsx\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useState } from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport { ItemTypes } from \"./ItemTypes\";\nimport Box from \"./Box.jsx\";\nimport update from \"immutability-helper\";\nimport AltarImage from \"../AltarImage/AltarImage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst styles = {\n  width: \"100vw\",\n  height: \"100vh\",\n  // border: \"5px solid white\",\n  position: \"relative\"\n};\nexport const DragContainer = ({\n  hideSourceOnDrag\n}) => {\n  _s();\n\n  const [boxes, setBoxes] = useState({\n    // this data can hold anything that is relevant\n    // for creating the draggable elements later.\n    // you can store an image ID to pass into altarimages here for example.\n    a: {\n      top: 20,\n      left: 80,\n      imageType: 1\n    },\n    b: {\n      top: 180,\n      left: 20,\n      imageType: 2\n    },\n    c: {\n      top: 300,\n      left: 300,\n      imageType: 3\n    },\n    d: {\n      top: 200,\n      left: 25,\n      imageType: 2\n    }\n  });\n  const moveBox = useCallback((id, left, top) => {\n    setBoxes(update(boxes, {\n      [id]: {\n        $merge: {\n          left,\n          top\n        }\n      }\n    }));\n  }, [boxes, setBoxes]);\n  const [, drop] = useDrop(() => ({\n    accept: ItemTypes.BOX,\n\n    drop(item, monitor) {\n      const delta = monitor.getDifferenceFromInitialOffset();\n      const left = Math.round(item.left + delta.x);\n      const top = Math.round(item.top + delta.y);\n      moveBox(item.id, left, top);\n      return undefined;\n    }\n\n  }), [moveBox]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: drop,\n    style: styles,\n    children: Object.keys(boxes).map(key => {\n      // remember this is a deconstruction\n      // which means we are pulling variables out of the\n      // boxes[key] object.\n      const box = boxes[key];\n      return (\n        /*#__PURE__*/\n        // this is where we get the data from the state.\n        // in here we are mapping through the list of boxes and creating\n        // an element on the page for each box\n        // we can the contents of this box component to an altarimage so\n        // that we are dragging images\n        // around instead of text.\n        _jsxDEV(Box, {\n          id: key,\n          left: box.left,\n          top: box.top,\n          hideSourceOnDrag: hideSourceOnDrag,\n          children: [/*#__PURE__*/_jsxDEV(AltarImage, {\n            imageType: box.imageType\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), box.title]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      );\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DragContainer, \"S12OMkFTjJxCK2QOvG6cSVuvBQU=\", false, function () {\n  return [useDrop];\n});\n\n_c = DragContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"DragContainer\");","map":{"version":3,"sources":["/Users/jexica/Sync/general_assembly/Chickadee/unit_4/week_12/DigiAltar/client/src/components/Drag/DragContainer.jsx"],"names":["useCallback","useState","useDrop","ItemTypes","Box","update","AltarImage","styles","width","height","position","DragContainer","hideSourceOnDrag","boxes","setBoxes","a","top","left","imageType","b","c","d","moveBox","id","$merge","drop","accept","BOX","item","monitor","delta","getDifferenceFromInitialOffset","Math","round","x","y","undefined","Object","keys","map","key","box","title"],"mappings":"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","sourcesContent":["import { useCallback, useState } from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport { ItemTypes } from \"./ItemTypes\";\nimport Box from \"./Box.jsx\";\nimport update from \"immutability-helper\";\nimport AltarImage from \"../AltarImage/AltarImage\";\nconst styles = {\n  width: \"100vw\",\n  height: \"100vh\",\n  // border: \"5px solid white\",\n  position: \"relative\",\n};\nexport const DragContainer = ({ hideSourceOnDrag }) => {\n  const [boxes, setBoxes] = useState({\n    // this data can hold anything that is relevant\n    // for creating the draggable elements later.\n    // you can store an image ID to pass into altarimages here for example.\n    a: { top: 20, left: 80, imageType: 1 },\n    b: { top: 180, left: 20, imageType: 2 },\n    c: { top: 300, left: 300, imageType: 3 },\n    d: { top: 200, left: 25, imageType: 2 },\n  });\n  const moveBox = useCallback(\n    (id, left, top) => {\n      setBoxes(\n        update(boxes, {\n          [id]: {\n            $merge: { left, top },\n          },\n        })\n      );\n    },\n    [boxes, setBoxes]\n  );\n  const [, drop] = useDrop(\n    () => ({\n      accept: ItemTypes.BOX,\n      drop(item, monitor) {\n        const delta = monitor.getDifferenceFromInitialOffset();\n        const left = Math.round(item.left + delta.x);\n        const top = Math.round(item.top + delta.y);\n        moveBox(item.id, left, top);\n        return undefined;\n      },\n    }),\n    [moveBox]\n  );\n  return (\n    <div ref={drop} style={styles}>\n      {Object.keys(boxes).map((key) => {\n        // remember this is a deconstruction\n        // which means we are pulling variables out of the\n        // boxes[key] object.\n        const box = boxes[key];\n        return (\n\n          // this is where we get the data from the state.\n          // in here we are mapping through the list of boxes and creating\n          // an element on the page for each box\n          // we can the contents of this box component to an altarimage so\n          // that we are dragging images\n          // around instead of text.\n          <Box\n            key={key}\n            id={key}\n            left={box.left}\n            top={box.top}\n            hideSourceOnDrag={hideSourceOnDrag}\n          > \n            <AltarImage imageType={box.imageType}/>\n            {/* we can put anything we want in here, like altarimages */}\n            {box.title}\n          </Box>\n        );\n      })}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}